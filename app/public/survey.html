<!DOCTYPE html>
<html lang="en-us">

<head>
    <!-- Required meta tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Materialize & JQuery -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>

    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="style.css">
    <title>Friend Finder</title>
</head>

<body class="grey">

    <nav>
        <div class="nav-wrapper teal lighten-2">
            <!-- green lighten-3 -->
            <a href="/home" class="brand-logo center ">Friend Finder</a>
        </div>
    </nav>
    <br>
    <div class="container">
        <div class="row">
            <div class="col s2">
            </div>

            <div class="col s8 z-depth-5 blue-grey darken-3">

                <div class="row">
                    <form class="col s12">

                        <div class="input-field col s12">
                            <input id="name" type="text" class="validate">
                            <label for="name">Name</label>
                        </div>

                        <div class="input-field col s12">
                            <input id="link" type="text" class="validate">
                            <label for="link">Link to Photo Image</label>
                        </div>

                        <div class="input-field col s12">
                            <select id="q1a">
                                <option id="q1" value="" disabled selected>Your mind is always buzzing with unexplored ideas and plans.</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly Agree)</option>
                            </select>
                            <label id="label1">Question 1</label>
                        </div>

                        <div class="input-field col s12">
                            <select id="q2a">
                                <option id="q2" value="" disabled selected>Generally speaking, you rely more on your experience than your imagination.</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly Agree)</option>
                            </select>
                            <label id="label2">Question 2</label>
                        </div>

                        <div class="input-field col s12">
                            <select id="q3a">
                                <option id="q3" value="" disabled selected>You find it easy to stay relaxed and focused even when there is some pressure.</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly Agree)</option>
                            </select>
                            <label id="label3">Question 3</label>
                        </div>

                        <div class="input-field col s12">
                            <select id="q4a">
                                <option id="q4" value="" disabled selected>You rarely do something just out of sheer curiosity.</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly Agree)</option>
                            </select>
                            <label id="label4">Question 4</label>
                        </div>

                        <div class="input-field col s12">
                            <select id="q5a">
                                <option id="q5" value="" disabled selected>People can rarely upset you.</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly Agree)</option>
                            </select>
                            <label id="label5">Question 5</label>
                        </div>

                        <div class="input-field col s12">
                            <select id="q6a">
                                <option id="q6" value="" disabled selected>It is often difficult for you to relate to other people’s feelings.</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly Agree)</option>
                            </select>
                            <label id="label6">Question 6</label>
                        </div>

                        <div class="input-field col s12">
                            <select id="q7a">
                                <option id="q7" value="" disabled selected>In a discussion, truth should be more important than people’s sensitivities.</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly Agree)</option>
                            </select>
                            <label id="label7">Question 7</label>
                        </div>

                        <div class="input-field col s12">
                            <select id="q8a">
                                <option id="q8" value="" disabled selected>You rarely get carried away by fantasies and ideas.</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly Agree)</option>
                            </select>
                            <label id="label8">Question 8</label>
                        </div>

                        <div class="input-field col s12">
                            <select id="q9a">
                                <option id="q9" value="" disabled selected>You think that everyone’s views should be respected regardless of whether they are supported
                                    by facts or not.</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly Agree)</option>
                            </select>
                            <label id="label9">Question 9</label>
                        </div>

                        <div class="input-field col s12">
                            <select id="q10a">
                                <option id="q10" value="" disabled selected>You feel more energetic after spending time with a group of people.</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly Agree)</option>
                            </select>
                            <label id="label10">Question 10</label>
                        </div>
                        <a class="waves-effect waves-light btn modal-trigger" id="submitInfo" href="#modal1">Submit</a>

                </div>
                </form>
                <div id="modal1" class="modal">
                    <div class="modal-content">
                        <h4>Best Match</h4>
                        <h5 id="matchName"></h5>
                        <img id="matchPic" src="">
                    </div>
                    <div class="modal-footer">
                        <a href="#!" class="modal-close waves-effect waves-green btn-flat">Close</a>
                    </div>
                </div>
            </div>


            <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
                crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js"></script>
            <script type="text/javascript">

                $("select").formSelect();


                $("#submitInfo").on("click", function (event) {
                    event.preventDefault();
                    var newFriend = {
                        name: $("#name").val().trim(),
                        pic: $("#link").val().trim(),
                        scores: [$("#q1a").val(), $("#q2a").val(), $("#q3a").val(), $("#q4a").val(), $("#q5a").val(), $("#q6a").val(), $("#q7a").val(), $("#q8a").val(), $("#q9a").val(), $("#q10a").val(),]
                    };
                    $('.modal').modal();

                    $.post('/api/friends', newFriend)
                        .then(function (data) {
                            $('#matchName').html(data.matchName);
                            $("#matchPic").attr("src", data.matchPic);
                        });
                });




            </script>
</body>

</html>